{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="form-container">
    {% for message in messages %}
        <p class="message">{{ message }}</p>
    {% endfor %}
    

    <h4>Connectez-vous</h4>
     <div class="image-container">
        <img src="{% static 'comptes/images/nemeku_love.png' %}" alt="Image de Connexion">
    </div>
    <form method="post" action="/login">
        {% csrf_token %}
        <label for="username">Nom d'utilisateur</label>
        <input type="text" name="username" id="username" placeholder="Entrez le nom d'utilisateur" required>
        <br>
        <label for="password">Mot de passe</label>
        <input type="password" name="password" id="password" placeholder="Entrez votre mot de passe" required>
                <button type="button" class="password-toggle" onclick="togglePassword('password')">
                    <i class="fas fa-eye" id="eye-password"></i>
                </button>
        <br>
        <button class="submit-button" type="submit">Connexion</button>
    </form>
</div>
{% endblock %}


{% block scripts %}
<script type="text/javascript">
    function togglePassword(id) {
        var passwordField = document.getElementById(id);
        var eyeIcon = document.querySelector(`#${id} + .password-toggle i`);
        
        if (passwordField.type === "password") {
            passwordField.type = "text";
            eyeIcon.classList.remove('fa-eye');
            eyeIcon.classList.add('fa-eye-slash');
        } else {
            passwordField.type = "password";
            eyeIcon.classList.remove('fa-eye-slash');
            eyeIcon.classList.add('fa-eye');
        }
    }
</script>

{% endblock %}
