"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6445],{96588:function(t,e,n){n.d(e,{k:function(){return l}});var r=n(52322),o=n(2784),i=n(40427);let u={default:1,[i.BREAKPOINTS.xs]:2,[i.BREAKPOINTS.md]:3,[i.BREAKPOINTS.xl]:4},a=t=>{let e=t.default||1,[n,r]=(0,o.useState)(!1),i=(0,o.useMemo)(()=>Object.keys(t).filter(t=>"default"!==t).sort((t,e)=>Number(e)-Number(t)),[t]),u=(0,o.useCallback)(()=>t[Number(i.find(t=>window.matchMedia("(min-width: ".concat(t,"px)")).matches)||"default")]||e,[i,t,e]),a=(0,o.useCallback)(t=>(r(!0),i.forEach(e=>{let n=window.matchMedia("(min-width: ".concat(e,"px)"));"function"==typeof n.addEventListener?n.addEventListener("change",t):"function"==typeof n.addListener&&n.addListener(t)}),()=>{i.forEach(e=>{let n=window.matchMedia("(min-width: ".concat(e,"px)"));"function"==typeof n.removeEventListener?n.removeEventListener("change",t):"function"==typeof n.removeListener&&n.removeListener(t)})}),[i]),c=(0,o.useSyncExternalStore)(a,u,()=>e);return(0,o.useMemo)(()=>({hasBeenInitialized:n,columnsCount:c}),[c,n])};n(39515),n(62159),n(19430);var c=(0,n(46724).c)({defaultClassName:"_nkl6i52 _1286nb12y9 _1286nb1339 _1286nb18l",variantClassNames:{invisible:{true:"_nkl6i51"}},defaultVariants:{},compoundVariants:[]});let l=t=>{let{children:e,columns:n=u}=t,{hasBeenInitialized:i,columnsCount:l}=a(n),s=(0,o.useMemo)(()=>{let t=o.Children.toArray(e),n=Array.from({length:l},()=>[]);return t.forEach((t,e)=>{n[e%l].push(t)}),n.map((t,e)=>(0,r.jsx)("div",{className:"_1286nb1m",children:t},"".concat(l,"-").concat(e)))},[e,l]);return(0,r.jsx)("div",{className:c({invisible:!i}),children:s})}},84531:function(t,e,n){n.d(e,{O:function(){return a}});var r=n(52322),o=n(40489),i=n(74133);n(52040);var u="_d9qd7y1";let a={Rect:t=>{let{width:e="full",height:n="100",borderRadius:a="md",marginTop:c="0",marginRight:l="0",marginBottom:s="0",marginLeft:g="0",aspectRatio:f,style:d,className:m,...p}=t;return(0,r.jsx)(i.x,{...p,width:e,height:n,borderRadius:a,marginTop:c,marginRight:l,marginBottom:s,marginLeft:g,aspectRatio:f,style:d,className:(0,o.Z)(u,m)})},Circle:t=>{let{size:e="full",marginTop:n="0",marginRight:o="0",marginBottom:a="0",marginLeft:c="0",style:l,...s}=t;return(0,r.jsx)(i.x,{...s,width:e,height:e,borderRadius:"full",marginTop:n,marginRight:o,marginBottom:a,marginLeft:c,className:u,style:l})}}},99553:function(t,e,n){n.d(e,{i:function(){return r}});let r=(0,n(2784).createContext)({})},27233:function(t,e,n){n.d(e,{D:function(){return u}});var r=n(21805),o=n(87466);let i="campaign/config",u={init:()=>null!==sessionStorage.getItem(i),get:()=>{try{let t=sessionStorage.getItem(i);if(!t)return null;return o.M.parse(JSON.parse(t))}catch(t){return null}},getForceCookies:()=>({id:r.Z.get("force_campaign_id"),notify:r.Z.get("force_campaign_notify"),country:r.Z.get("force_campaign_country")}),set:t=>sessionStorage.setItem(i,JSON.stringify(t)),remove:()=>sessionStorage.removeItem(i)}},92200:function(t,e,n){n.d(e,{eg:function(){return o},w8:function(){return u},jP:function(){return l}});var r=n(27233);let o=t=>{let e=new Date(t).getTime();return new Date().getTime()>e&&(r.D.set({}),!0)},i=t=>t>9?"".concat(t):"0".concat(t),u=t=>"".concat(i(Math.floor(t/36e5)),":").concat(i(Math.floor(t%36e5/6e4)),":").concat(i(Math.floor(t%6e4/1e3))),a=t=>""!==t.content.banner_url?t.content.banner_url:"month"===t.user_type?"".concat("/profile/my_subscriptions","?coupon=").concat(t.coupon,"up"):"/pricing",c=t=>{if(t.content.banner_url=a(t),"month"===t.user_type){let{content:e,...n}=t;return{content:{...e,title:"",text_price_annual:e.text_upgrade,text_button:e.text_button_upgrade},...n}}return t},l=t=>{let{notify:e}=r.D.getForceCookies(),n=new Date(t.end).getTime(),o=new Date().getTime(),i=36e5*t.countdown;return{config:c(t),countdown:"countdown"===e||o<n&&n-o<i}}},90708:function(t,e,n){n.d(e,{yQ:function(){return c},t$:function(){return s},fS:function(){return m},cE:function(){return p},pq:function(){return _}});var r=n(2784),o=n(53476),i=n(27233),u=n(92200),a=n(32595);let c=()=>{let t=(0,o.sJ)(a.U);return(0,r.useMemo)(()=>{let e=i.D.get();return!t||!e||(0,u.eg)(e.end)?{config:null,countdown:!1}:(0,u.jP)(e)},[t])};var l=n(99553);let s=()=>(0,r.useContext)(l.i),g=()=>Date.now(),f=(0,u.w8)(0),d=t=>{let e=t-g();return e<=0?f:(0,u.w8)(e)},m=t=>{let[e,n]=(0,r.useState)(()=>d(t));return(0,r.useEffect)(()=>{let e;let r=()=>{let o=d(t);n(o),o!==f&&(e=setTimeout(r,1e3))};return r(),()=>{clearTimeout(e)}},[t]),e},p=()=>{let t=(0,o.sJ)(a.U),{config:e}=c();return(0,r.useMemo)(()=>{if(!t)return;if(!e)return{event_name:"microfunnel",campaign_name:"no_campaign",product_price:"full_price",discount_type:0};let{id:n,user_type:r,content_campaign:o,prices:{monthly:i,annual:u}}=e,a="anonymous"===r?"anonymous":"registered";return o?{event_name:"content_banner",action:"go_content_".concat(a),campaign_name:n,product_price:"full_price",discount_type:0}:{event_name:"microfunnel",action:"go_premium_".concat(a),campaign_name:n,discount_type:"".concat(i[1],"|").concat(u[1]),product_price:"campaign_discount"}},[e,t])},_=t=>{let{config:e}=c();return!!e&&!!e.set[t]&&("month"!==e.user_type||"upgrade"===t)}},69587:function(t,e,n){n.d(e,{hX:function(){return a},c7:function(){return h},yQ:function(){return v.yQ},t$:function(){return v.t$},fS:function(){return v.fS},cE:function(){return v.cE},pq:function(){return v.pq}});var r=n(52322),o=n(99553);let i=["search","category","pricing"],u=t=>i.includes(t)?"upper":"attribution"===t?"attribution":"base",a=t=>{let{children:e,location:n,...i}=t;return(0,r.jsx)(o.i.Provider,{value:{location:n,template:u(n),...i},children:e})};var c=n(15605),l=n(2784),s=n(53476),g=n(38364),f=n(72302),d=n(27233);let m=t=>{let{locale:e,user:n,id:r,country:o}=t,i=new URLSearchParams;return i.set("locale",e),n&&i.set("user","".concat(n)),r&&i.set("id",r),o&&i.set("country",o),i.toString()},p=async t=>{let e=m(t),n=await fetch("/api/campaign?".concat(e));if(!n.ok)throw Error(n.statusText);return await n.json()};var _=n(32595);let h=()=>{let t=(0,s.Zl)(_.U),e=(0,g.A)(),n=(0,f.I)(),r=(0,c.ZK)(),o=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{if(e&&!o.current){if(o.current=!0,d.D.init()){t(!0);return}p({locale:r,...d.D.getForceCookies(),...n&&{user:n}}).then(t=>d.D.set(t)).catch(t=>{throw t}).finally(()=>t(!0))}},[r,t,n,e]),null};n(92200);var v=n(90708);n(87466)},87466:function(t,e,n){n.d(e,{M:function(){return s}});var r=n(30195);let o=r.z.object({xs:r.z.string(),icon:r.z.string().optional(),left:r.z.string(),right:r.z.string()}),i=r.z.object({title:r.z.string(),title_strong:r.z.string(),text:r.z.string(),text_strong:r.z.string(),background_upper:r.z.string(),background:r.z.string(),button:r.z.string(),button_hover:r.z.string(),button_text:r.z.string(),countdown:r.z.string(),countdown_text:r.z.string()}),u=r.z.object({title:r.z.string(),banner_url:r.z.string().nullable(),countdown:r.z.string(),text_button:r.z.string(),text_expire:r.z.string(),text_upgrade:r.z.string(),text_price_annual:r.z.string(),text_button_premium:r.z.string(),text_button_upgrade:r.z.string()}).transform(t=>{let{banner_url:e,...n}=t;return{banner_url:e||"",...n}}),a=r.z.object({annual:r.z.tuple([r.z.string(),r.z.string()]),monthly:r.z.tuple([r.z.string(),r.z.string()])}),c=r.z.enum(["anonymous","free","month","year"]),l=r.z.enum(["home","limit","detail","logged","search","adblock","keyword","popular","premium","pricing","upgrade","category","download","attribution","collections"]),s=r.z.object({id:r.z.string(),start:r.z.string(),end:r.z.string(),countdown:r.z.number(),coupon:r.z.string(),images:o,colors:i,content:u,prices:a,user_type:c,set:r.z.record(l,r.z.boolean())}).transform(t=>{let{content:e,...n}=t;return{content_campaign:""!==e.banner_url,content:e,...n}});r.z.object({user:r.z.coerce.number().optional(),locale:r.z.string(),id:r.z.string().optional(),country:r.z.string().optional()})},32595:function(t,e,n){n.d(e,{U:function(){return r}});let r=(0,n(53476).cn)({key:"campaignIsReadyState",default:!1})},3892:function(t,e,n){n.d(e,{Ax:function(){return r},F2:function(){return a},n9:function(){return l},RP:function(){return s.R}});let r="GTM-NC7VC6W";var o=n(9691),i=n(2784),u=n(74930);let a=()=>{let t=(0,o.PN)(),e=(0,u.N)();(0,i.useEffect)(()=>{e&&t({country:e})},[e,t])};var c=n(69587);let l=t=>{let e=(0,o.PN)(),n=(0,c.cE)(),r=(0,i.useCallback)(r=>{n&&e({event:"ga4event",interaction_type:r,...t,...n})},[n,t,e]);return(0,i.useMemo)(()=>[()=>r("onload"),()=>r("click")],[r])};var s=n(45017)},45017:function(t,e,n){n.d(e,{R:function(){return d}});var r=n(9691),o=n(15605),i=n(60418),u=n(5632),a=n(2784),c=n(75190),l=n(38364),s=n(74930),g=n(25557);let f=t=>{let e=(0,o.ZK)(),n=(0,l.A)(),r=(0,c.D)(),i=(0,s.N)();return(0,a.useMemo)(()=>n&&i?{event:"ga4event",event_name:"page_view",content_type:"video",page_code:"200-ok",country:i,page_lang:e,user_id:(null==r?void 0:r.id)||void 0,user_type:(null==r?void 0:r.user_type_fr)||"anonymous",...t}:null,[n,i,e,null==r?void 0:r.id,null==r?void 0:r.user_type_fr,t])},d=(t,e)=>{let n=(0,r.PN)(),o=(0,a.useRef)(null),c=f(t),{asPath:l}=(0,u.useRouter)();(0,a.useEffect)(()=>{if(!c)return;let t={...c,page_location:window.location.href},r={...t,asPath:l,page_location:(0,g.f)(t.page_location)};e&&!e(r)||(0,i.vZ)(r,o.current)||(o.current=r,n(t))},[l,c,e,n])}}}]);